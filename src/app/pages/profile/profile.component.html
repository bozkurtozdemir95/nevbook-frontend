<div id="profile">
  <div class="container">
    <div class="row align-start">
      <div class="auth-wrapper" *ngIf="!auth.user">
        <div class="row">
          <div class="col-lg-6">
            <div class="login-wrapper">
              <app-login></app-login>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="register-wrapper">
              <app-register></app-register>
            </div>
          </div>
        </div>
      </div>

      <div class="profile-wrapper" *ngIf="auth.user">
        <div class="row">
          <div class="col-lg-4">
            <ul ngbNav #nav="ngbNav" class="nav-tabs">
              <li ngbNavItem>
                <button ngbNavLink>Dashboard</button>
                <ng-template ngbNavContent>
                  <p>
                    Hello {{auth.user.name}}, <br>
                    From your account dashboard you can view your recent orders, and edit your password and account
                    details.
                  </p>
                </ng-template>
              </li>
              <li ngbNavItem>
                <button ngbNavLink>Orders</button>
                <ng-template ngbNavContent class="orders">
                  <button  (click)="downloadAsPDF()">Export To PDF</button>
                  <table class="table table-bordered" *ngIf="!selectedOrder" #pdfTable>
                    <thead>
                    <tr>
                      <th scope="col">Order</th>
                      <th scope="col">Date</th>
                      <th scope="col">Status</th>
                      <th scope="col">Total</th>
                      <th scope="col"></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let item of orders">
                      <td>#{{item.id}}</td>
                      <td>{{item.date}}</td>
                      <td>{{item.status}}</td>
                      <td>{{item.total}} MKD for {{item.items}} items</td>
                      <td class="link" (click)="viewOrder(8315)">View</td>

                    </tbody>
                  </table>
                  <div class="order-details" *ngIf="selectedOrder">
                    <button class="transparent-button" (click)="backToOrders()">
                      <app-icon [icon]="'arrow-left'"/>
                      Back
                    </button>
                    <ul>
                      <li>
                        <h6>Order ID</h6>
                        <span>#8315</span>
                      </li>
                      <li>
                        <h6>Date</h6>
                        <span>June 30, 2023</span>
                      </li>
                      <li>
                        <h6>Email</h6>
                        <span>test@gmail.com</span>
                      </li>
                      <li>
                        <h6>Total</h6>
                        <span>15000 MKD</span>
                      </li>
                      <li>
                        <h6>Payment Method</h6>
                        <span>Cash on delivery</span>
                      </li>
                    </ul>
                    <h4>Order Details</h4>
                    <table class="table table-bordered">
                      <thead>
                      <tr>
                        <th scope="col">Product</th>
                        <th scope="col">Total</th>
                      </tr>
                      </thead>
                      <tbody>
                      <tr>
                        <td>A book x2</td>
                        <td>10000 MKD</td>
                      </tr>
                      <tr>
                        <td>A different book x3</td>
                        <td>6000 MKD</td>
                      </tr>
                      <tr>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td>Subtotal</td>
                        <td>16000 MKD</td>
                      </tr>
                      <tr>
                        <td>Discount (FINKY)</td>
                        <td>20%</td>
                      </tr>
                      <tr>
                        <td>Payment Method</td>
                        <td>Cash on delivery</td>
                      </tr>
                      <tr>
                        <td>Total</td>
                        <td>12800 MKD</td>
                      </tr>
                      </tbody>
                    </table>
                    <div class="bill mt-3">
                      <h4>Billing Address</h4>
                      <ul>
                        <li>Name on card</li>
                        <li>Aasdasdasdasd</li>
                        <li>Skopje</li>
                        <li>Skopje</li>
                        <li>0112</li>
                      </ul>
                    </div>
                  </div>
                </ng-template>
              </li>
              <li ngbNavItem>
                <button ngbNavLink>Users</button>
                <ng-template ngbNavContent>Second content</ng-template>
              </li>
              <li ngbNavItem>
                <button ngbNavLink>Promo Codes</button>
                <ng-template ngbNavContent>Second content</ng-template>
              </li>
              <li ngbNavItem>
                <button ngbNavLink>Settings</button>
                <ng-template ngbNavContent>Second content</ng-template>
              </li>
              <li ngbNavItem>
                <button ngbNavLink (click)="logout()">Logout</button>
              </li>
            </ul>
          </div>
          <div class="col-lg-8">
            <div [ngbNavOutlet]="nav"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
